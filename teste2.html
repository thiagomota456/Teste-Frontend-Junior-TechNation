<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="css/index/styles.css">
  <title>Página Bootstrap Responsiva</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
  <script defer src="https://kit.fontawesome.com/cac7eabb61.js" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>
<body>

<div class="container-fluid">
  <div class="row" id="row-principal">
    <div id="coluna-esquerda" class="col-md-2 text-light d-none d-md-block">
      <p><i class="fa-solid fa-dragon"></i>AccounsulftV2</p>

      <div id="lista-coluna-esquerda">
        <ul>
          <li class="selected-lista-coluna-esquerda"><a class="color-black" onclick="toggleClass(event)"><i class="fa-solid fa-gauge"></i>Dashboard</a></li>
          <li><a href="#" onclick="toggleClass(event)"><i class="fa-solid fa-users"></i>Customers</a></li>
          <li><a href="#" onclick="toggleClass(event)"><i class="fa-solid fa-list-check"></i>Projects</a></li>
          <li><a href="#" onclick="toggleClass(event)"><i class="fa-solid fa-bag-shopping"></i>Orders</a></li>
          <li><a href="#" onclick="toggleClass(event)"><i class="fa-solid fa-circle-user"></i>Accounts</a></li>
          <li><a href="#" onclick="toggleClass(event)"><i class="fa-solid fa-warehouse"></i>Inventory</a></li>
          <li><a href="#" onclick="toggleClass(event)"><i class="fa-regular fa-clipboard"></i>Tasks</a></li>
        </ul>
      </div>
    </div>

    <div id="coluna-direita" class="col-md-10 px-0">
      <div class="row barra-de-nav-principal justify-content-center">
        <div class="col-sm-3 mt-3">
          <nav class="navbar navbar-light">
            <div class="container-fluid">
              <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarToggleExternalContent" aria-controls="navbarToggleExternalContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
              </button>
            </div>
          </nav>

          <div class="collapse" id="navbarToggleExternalContent">
            <div class="menu-expandido p-4">
              <h5 class="text-dark h4">Conteúdo recolhido</h5>
              <span class="text-muted">Pode ser exibido através da marca da barra de navegação.</span>
            </div>
          </div>

        </div>

        <div class="col-sm-5 mt-3">
          <div class="custom-search-bar">
            <input type="text" placeholder="Pesquisar aqui">
            <i class="fa-solid fa-magnifying-glass"></i>
          </div>
        </div>

        <div class="col-sm-4 mt-3">
          <div class="profile">
            <div class="avatar">
              <img src="img/perfil.jpg" alt="Foto de Perfil">
            </div>
            <div class="details">
              <div class="username">Nome do Usuário</div>
              <div class="usertype">Tipo de Usuário</div>
            </div>
          </div>
        </div>
      </div>

      <div class="row mx-0 pt-3" id="conteudo" style="height: 100vh;">
        <style>
            .container {
            margin-top: 50px;
            }
            .card {
            margin-bottom: 20px;
            }
        </style>
        
        <body>
        <div class="container">
          <div class="row">
            <div class="col-md-4">
              <div class="card">
                <div class="card-body">
                  <h5 class="card-title">Valor total das notas emitidas</h5>
                  <p class="card-text" id="totalNotes">R$ 0.00</p>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card">
                <div class="card-body">
                  <h5 class="card-title">Valor total das notas emitidas, mas sem cobrança feita</h5>
                  <p class="card-text" id="unbilledNotes">R$ 0.00</p>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card">
                <div class="card-body">
                  <h5 class="card-title">Valor total das notas vencidas - Inadimplência</h5>
                  <p class="card-text" id="overdueNotes">R$ 0.00</p>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-4">
              <div class="card">
                <div class="card-body">
                  <h5 class="card-title">Valor total das notas a vencer</h5>
                  <p class="card-text" id="dueNotes">R$ 0.00</p>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <div class="card">
                <div class="card-body">
                  <h5 class="card-title">Valor total das notas pagas</h5>
                  <p class="card-text" id="paidNotes">R$ 0.00</p>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-6">
              <canvas id="inadimplenciaChart"></canvas>
            </div>
            <div class="col-md-6">
              <canvas id="receitaChart"></canvas>
            </div>
          </div>
        </div>

        <script>
          // Simulando dados
          const data = {
            totalNotes: 10000,
            unbilledNotes: 2000,
            overdueNotes: 1500,
            dueNotes: 3000,
            paidNotes: 6000,
            inadimplenciaData: [500, 600, 700, 800, 900],
            receitaData: [2000, 3000, 4000, 5000, 6000]
          };

          // Atualizando valores dos indicadores
          function updateIndicators() {
            document.getElementById('totalNotes').textContent = `R$ ${data.totalNotes.toFixed(2)}`;
            document.getElementById('unbilledNotes').textContent = `R$ ${data.unbilledNotes.toFixed(2)}`;
            document.getElementById('overdueNotes').textContent = `R$ ${data.overdueNotes.toFixed(2)}`;
            document.getElementById('dueNotes').textContent = `R$ ${data.dueNotes.toFixed(2)}`;
            document.getElementById('paidNotes').textContent = `R$ ${data.paidNotes.toFixed(2)}`;
          }

          // Atualizando gráfico de inadimplência
          function updateInadimplenciaChart() {
            var ctx = document.getElementById('inadimplenciaChart').getContext('2d');
            var myChart = new Chart(ctx, {
              type: 'line',
              data: {
                labels: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'],
                datasets: [{
                  label: 'Inadimplência',
                  data: data.inadimplenciaData,
                  backgroundColor: 'rgba(255, 99, 132, 0.2)',
                  borderColor: 'rgba(255, 99, 132, 1)',
                  borderWidth: 1
                }]
              },
              options: {
                scales: {
                  yAxes: [{
                    ticks: {
                      beginAtZero: true
                    }
                  }]
                }
              }
            });
          }

          // Atualizando gráfico de receita
          function updateReceitaChart() {
            var ctx = document.getElementById('receitaChart').getContext('2d');
            var myChart = new Chart(ctx, {
              type: 'line',
              data: {
                labels: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai'],
                datasets: [{
                  label: 'Receita Recebida',
                  data: data.receitaData,
                  backgroundColor: 'rgba(54, 162, 235, 0.2)',
                  borderColor: 'rgba(54, 162, 235, 1)',
                  borderWidth: 1
                }]
              },
              options: {
                scales: {
                  yAxes: [{
                    ticks: {
                      beginAtZero: true
                    }
                  }]
                }
              }
            });
          }

          // Chamando funções para atualizar o dashboard
          updateIndicators();
          updateInadimplenciaChart();
          updateReceitaChart();
        </script>
        </body>
        </html>
      </div>
    </div>
  </div>
</div>

<script src="script/index/script.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>

</body>
</html>
